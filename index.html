<!--
File collection: copy each file into your project exactly as named.
Place the `posts/` folder in the same directory as `index.html` and `blog.html`.

Files included below:
- index.html
- blog.html
- posts/posts.json
- posts/welcome-post.md (sample)

Dependencies are loaded via CDN (Tailwind, marked.js, highlight.js).
This system uses posts/posts.json to list posts and posts/<slug>.md markdown files for content.
-->

/* ======================
index.html
====================== */

<!doctype html>
<html lang="bn">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CSC Hub — Professional Store & Blog</title>
    <meta name="description" content="CSC Hub — আপনার ডিজিটাল সার্ভিস, পণ্য ও ব্লগ">

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Marked (Markdown parser) for previews if needed -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- dayjs for friendly dates -->
    <script src="https://cdn.jsdelivr.net/npm/dayjs@1/dayjs.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <style>
        /* small visual polish */
        .card-shadow{ box-shadow: 0 6px 18px rgba(15,23,42,0.08); }
        .gradient-hero{ background: linear-gradient(90deg,#0ea5a4 0%,#3b82f6 100%);}
        .prose-custom p{ margin-bottom: 0.9rem; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 antialiased">

<!-- NAV -->
<header class="max-w-5xl mx-auto p-4 md:p-6 flex items-center justify-between">
    <a href="index.html" class="flex items-center gap-3">
        <div class="w-12 h-12 rounded-xl bg-white flex items-center justify-center card-shadow">
            <span class="font-semibold text-lg text-sky-600">CSC</span>
        </div>
        <div>
            <div class="text-lg font-semibold">CSC Hub</div>
            <div class="text-xs text-slate-500">আপনার ডিজিটাল সার্ভিস, পণ্য ও ব্লগ</div>
        </div>
    </a>
    <nav class="hidden md:flex gap-4 items-center text-sm">
        <a href="#" class="text-slate-600 hover:text-slate-900">Shop</a>
        <a href="index.html" class="text-slate-600 hover:text-slate-900">Blog</a>
        <a href="#contact" class="text-slate-600 hover:text-slate-900">Contact</a>
    </nav>
</header>

<!-- HERO -->
<main class="max-w-5xl mx-auto px-4 md:px-6">
    <section class="rounded-2xl overflow-hidden gradient-hero text-white p-8 md:p-12 mb-8">
        <h1 class="text-3xl md:text-4xl font-extrabold">CSC Hub — Professional Store & Blog</h1>
        <p class="mt-2 text-slate-100/90 max-w-2xl">প্রোডাক্ট বিক্রি করুন, ভিডিও টিউটোরিয়াল শেয়ার করুন এবং ব্লগ পোস্ট লেখুন — সব এক জায়গায়। প্রতিদিন নতুন পোস্ট পাবলিশ করুন।</p>
    </section>

    <!-- Latest posts list -->
    <section>
        <div class="flex items-center justify-between mb-4">
            <h2 class="text-xl font-semibold">Latest Blog Posts</h2>
            <div class="text-sm text-slate-500">Updated dynamically from posts/posts.json</div>
        </div>

        <div id="post-list" class="grid gap-4">
            <!-- JS will inject cards here -->
        </div>

    </section>

    <!-- Contact & Footer -->
    <footer id="contact" class="mt-12 mb-12 text-sm text-slate-600">
        <div class="border-t pt-6 flex flex-col md:flex-row justify-between">
            <div>
                <div class="font-semibold">Contact</div>
                <div class="mt-1">Email: mtpl.kolaghat@gmail.com | Phone: +91-8967744210</div>
                <div class="mt-1">Address: Kolaghat, West Bengal 721154</div>
            </div>
            <div class="mt-4 md:mt-0 text-right">© 2025 CSC Hub — Powered by খোলাপাতা</div>
        </div>
    </footer>

</main>

<script>
    // Fetch posts list and render
    async function loadPosts(){
      try{
        const res = await fetch('posts/posts.json',{cache:'no-store'});
        if(!res.ok) throw new Error('Could not load posts list');
        const posts = await res.json();
        const container = document.getElementById('post-list');
        // sort by date desc
        posts.sort((a,b)=> new Date(b.date) - new Date(a.date));
        posts.forEach(p=>{
          const slug = p.slug || p.file.replace(/\.md$/,'');
          const card = document.createElement('article');
          card.className = 'bg-white p-4 rounded-xl card-shadow flex flex-col md:flex-row gap-4 items-stretch';

          const left = document.createElement('div');
          left.className = 'flex-1';
          left.innerHTML = `
            <a href="blog.html?post=${encodeURIComponent(slug)}" class="text-lg font-semibold text-slate-900 hover:text-sky-600 block">${escapeHtml(p.title)}</a>
            <div class="text-xs text-slate-500 mt-1">${formatDate(p.date)} • ${escapeHtml(p.excerpt || '')}</div>
          `;

          const right = document.createElement('div');
          right.className = 'text-right md:text-left md:w-36 flex md:flex-col items-center justify-center gap-2';
          right.innerHTML = `
            <div class="text-sm font-medium text-sky-600">${p.price? '₹'+p.price : ''}</div>
            <a href="blog.html?post=${encodeURIComponent(slug)}" class="inline-block mt-2 md:mt-4 bg-sky-600 text-white px-3 py-2 rounded-md text-sm">Read</a>
          `;

          card.appendChild(left);
          card.appendChild(right);
          container.appendChild(card);
        });
      }catch(err){
        console.error(err);
        document.getElementById('post-list').innerHTML = '<div class="p-6 bg-white rounded-xl card-shadow text-red-600">রেকর্ড লোড করা যায়নি। posts/posts.json চেক করুন।</div>';
      }
    }

    function formatDate(d){
      try{ return dayjs(d).format('YYYY-MM-DD'); }catch(e){ return d; }
    }
    function escapeHtml(s){ if(!s) return ''; return s.replace(/[&<>\"]+/g, c=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;' }[c]||c)); }

    loadPosts();
</script>
</body>
</html>



